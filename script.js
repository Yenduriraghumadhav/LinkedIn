let AllData = [
  {
    id: 1,
    company: "Snap Inc.",
    title: "Looking for new opportunities in Snap Inc.",
    description: "Appreciating the mentorship and support from my colleagues.",
    img: "https://randomuser.me/api/portraits/men/41.jpg",
    images: "./assets/google.jpeg",
    company_rating: 4.6,
  },
  {
    id: 2,
    company: "Netflix",
    title: "Looking for new opportunities in Netflix",
    description: "Connecting with peers and growing my professional network.",
    img: "https://randomuser.me/api/portraits/men/47.jpg",
    images: "./assets/images1.jpg",
    company_rating: 4.0,
  },
  {
    id: 3,
    company: "Microsoft",
    title: "Launching a new product at Microsoft",
    description: "Thrilled about launching our latest feature update!",
    img: "https://randomuser.me/api/portraits/women/17.jpg",
    images: "./assets/img2.jpeg",
    company_rating: 3.3,
  },
  {
    id: 4,
    company: "IBM",
    title: "Excited to join the team at IBM",
    description: "Connecting with peers and growing my professional network.",
    img: "https://randomuser.me/api/portraits/men/61.jpg",
    images: "./assets/img3.jpeg",
    company_rating: 3.0,
  },
  {
    id: 5,
    company: "Meta",
    title: "Grateful to complete 5 years at Meta",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/women/53.jpg",
    images: "./assets/img4.jpeg",
    company_rating: 4.1,
  },
  {
    id: 6,
    company: "LinkedIn",
    title: "Just got promoted to LinkedIn",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/80.jpg",
    images: "./assets/img5.jpeg",
    company_rating: 4.4,
  },
  {
    id: 7,
    company: "Microsoft",
    title: "Launching a new product at Microsoft",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/45.jpg",
    images: "./assets/img6.jpeg",
    company_rating: 4.2,
  },
  {
    id: 8,
    company: "Twitter",
    title: "Grateful to complete 5 years at Twitter",
    description:
      "Proud to be part of a team that values creativity and collaboration.",
    img: "https://randomuser.me/api/portraits/men/27.jpg",
    images: "./assets/img7.jpeg",
    company_rating: 3.7,
  },
  {
    id: 9,
    company: "Dropbox",
    title: "Sharing insights from my latest project at Dropbox",
    description: "Connecting with peers and growing my professional network.",
    img: "https://randomuser.me/api/portraits/women/51.jpg",
    images: "./assets/img8.jpeg",
    company_rating: 4.1,
  },
  {
    id: 10,
    company: "Snap Inc.",
    title: "Speaking at an upcoming tech conference! Snap Inc.",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/women/84.jpg",
    images: "./assets/img9.jpeg",
    company_rating: 4.6,
  },
  {
    id: 11,
    company: "Meta",
    title: "Just got promoted to Meta",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/women/27.jpg",
    images: "./assets/img10.jpeg",
    company_rating: 3.1,
  },
  {
    id: 12,
    company: "Amazon",
    title: "Working on something exciting at Amazon",
    description: "Thrilled about launching our latest feature update!",
    img: "https://randomuser.me/api/portraits/men/59.jpg",
    images: "./assets/img11.jpeg",
    company_rating: 3.8,
  },
  {
    id: 13,
    company: "Amazon",
    title: "Working on something exciting at Amazon",
    description:
      "Looking forward to the next chapter in my professional journey.",
    img: "https://randomuser.me/api/portraits/women/25.jpg",
    images: "./assets/img12.jpeg",
    company_rating: 3.5,
  },
  {
    id: 14,
    company: "Google",
    title: "Looking for new opportunities in Google",
    description:
      "Sharing some milestones from my recent projects and learning.",
    img: "https://randomuser.me/api/portraits/women/21.jpg",
    images: "./assets/img13.jpeg",
    company_rating: 4.6,
  },
  {
    id: 15,
    company: "Google",
    title: "Started a new position as Google",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/women/19.jpg",
    images: "./assets/img14.jpeg",
    company_rating: 3.3,
  },
  {
    id: 16,
    company: "Meta",
    title: "Looking for new opportunities in Meta",
    description: "Connecting with peers and growing my professional network.",
    img: "https://randomuser.me/api/portraits/men/62.jpg",
    images: "./assets/img15.jpeg",
    company_rating: 4.6,
  },
  {
    id: 17,
    company: "IBM",
    title: "Working on something exciting at IBM",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/women/23.jpg",
    images: "./assets/img16.jpeg",
    company_rating: 4.7,
  },
  {
    id: 18,
    company: "Uber",
    title: "Started a new position as Uber",
    description:
      "Proud to be part of a team that values creativity and collaboration.",
    img: "https://randomuser.me/api/portraits/women/87.jpg",
    images: "./assets/img17.jpeg",
    company_rating: 4.9,
  },
  {
    id: 19,
    company: "Zoom",
    title: "Just got promoted to Zoom",
    description:
      "Exploring new opportunities and challenges in the tech space.",
    img: "https://randomuser.me/api/portraits/men/45.jpg",
    images: "./assets/img18.jpeg",
    company_rating: 4.1,
  },
  {
    id: 20,
    company: "Google",
    title: "Looking for new opportunities in Google",
    description:
      "Sharing some milestones from my recent projects and learning.",
    img: "https://randomuser.me/api/portraits/women/94.jpg",
    images: "./assets/img19.jpeg",
    company_rating: 3.4,
  },
  {
    id: 21,
    company: "Airbnb",
    title: "Launching a new product at Airbnb",
    description: "Connecting with peers and growing my professional network.",
    img: "https://randomuser.me/api/portraits/men/29.jpg",
    images: "./assets/img20.jpeg",
    company_rating: 3.3,
  },
  {
    id: 22,
    company: "Google",
    title: "Grateful to complete 5 years at Google",
    description:
      "Looking forward to the next chapter in my professional journey.",
    img: "https://randomuser.me/api/portraits/men/12.jpg",
    images: "./assets/img21.jpeg",
    company_rating: 4.4,
  },
  {
    id: 23,
    company: "IBM",
    title: "Working on something exciting at IBM",
    description:
      "Kicking off a new role with lots of excitement and gratitude.",
    img: "https://randomuser.me/api/portraits/men/48.jpg",
    images: "./assets/img22.jpeg",
    company_rating: 4.6,
  },
  {
    id: 24,
    company: "Microsoft",
    title: "Working on something exciting at Microsoft",
    description: "Thrilled about launching our latest feature update!",
    img: "https://randomuser.me/api/portraits/women/58.jpg",
    images: "./assets/img23.jpeg",
    company_rating: 4.4,
  },
  {
    id: 25,
    company: "Salesforce",
    title: "Excited to join the team at Salesforce",
    description:
      "Exploring new opportunities and challenges in the tech space.",
    img: "https://randomuser.me/api/portraits/women/64.jpg",
    images: "./assets/img24.jpeg",
    company_rating: 4.9,
  },
  {
    id: 26,
    company: "IBM",
    title: "Sharing insights from my latest project at IBM",
    description:
      "Sharing some milestones from my recent projects and learning.",
    img: "https://randomuser.me/api/portraits/men/79.jpg",
    images: "./assets/img25.jpeg",
    company_rating: 3.2,
  },
  {
    id: 27,
    company: "IBM",
    title: "Working on something exciting at IBM",
    description:
      "Looking forward to the next chapter in my professional journey.",
    img: "https://randomuser.me/api/portraits/women/54.jpg",
    images: "./assets/img26.jpeg",
    company_rating: 3.3,
  },
  {
    id: 28,
    company: "Twitter",
    title: "Grateful to complete 5 years at Twitter",
    description:
      "Looking forward to the next chapter in my professional journey.",
    img: "https://randomuser.me/api/portraits/women/6.jpg",
    images: "./assets/img27.png",
    company_rating: 4.9,
  },
  {
    id: 29,
    company: "Netflix",
    title: "Launching a new product at Netflix",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/men/87.jpg",
    images: "./assets/img28.jpeg",
    company_rating: 3.3,
  },
  {
    id: 30,
    company: "Salesforce",
    title: "Speaking at an upcoming tech conference! Salesforce",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/37.jpg",
    images: "./assets/img29.jpeg",
    company_rating: 4.7,
  },
  {
    id: 31,
    company: "Netflix",
    title: "Grateful to complete 5 years at Netflix",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/67.jpg",
    images: "./assets/img30.jpeg",
    company_rating: 4.0,
  },
  {
    id: 32,
    company: "Zoom",
    title: "Working on something exciting at Zoom",
    description: "Thrilled about launching our latest feature update!",
    img: "https://randomuser.me/api/portraits/women/49.jpg",
    images: "./assets/img31.jpeg",
    company_rating: 4.7,
  },
  {
    id: 33,
    company: "Google",
    title: "Sharing insights from my latest project at Google",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/20.jpg",
    images: "./assets/img32.jpeg",
    company_rating: 4.1,
  },
  {
    id: 34,
    company: "Intel",
    title: "Speaking at an upcoming tech conference! Intel",
    description:
      "Kicking off a new role with lots of excitement and gratitude.",
    img: "https://randomuser.me/api/portraits/women/12.jpg",
    images: "./assets/img33.jpeg",
    company_rating: 4.0,
  },
  {
    id: 35,
    company: "Google",
    title: "Launching a new product at Google",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/men/4.jpg",
    images: "./assets/img34.jpeg",
    company_rating: 5.0,
  },
  {
    id: 36,
    company: "IBM",
    title: "Sharing insights from my latest project at IBM",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/men/30.jpg",
    images: "./assets/img35.jpeg",
    company_rating: 4.5,
  },
  {
    id: 37,
    company: "LinkedIn",
    title: "Sharing insights from my latest project at LinkedIn",
    description:
      "Sharing some milestones from my recent projects and learning.",
    img: "https://randomuser.me/api/portraits/men/62.jpg",
    images: "./assets/img36.jpeg",
    company_rating: 3.2,
  },
  {
    id: 38,
    company: "Google",
    title: "Happy to announce my new role at Google",
    description: "Reflecting on the incredible experiences I've had so far.",
    img: "https://randomuser.me/api/portraits/women/20.jpg",
    images: "./assets/img37.jpeg",
    company_rating: 4.4,
  },
  {
    id: 39,
    company: "Oracle",
    title: "Launching a new product at Oracle",
    description: "Appreciating the mentorship and support from my colleagues.",
    img: "https://randomuser.me/api/portraits/men/51.jpg",
    images: "./assets/img38.jpeg",
    company_rating: 4.9,
  },
  {
    id: 40,
    company: "Oracle",
    title: "Working on something exciting at Oracle",
    description:
      "Proud to be part of a team that values creativity and collaboration.",
    img: "https://randomuser.me/api/portraits/men/26.jpg",
    images: "./assets/img39.jpeg",
    company_rating: 3.8,
  },
  {
    id: 41,
    company: "Netflix",
    title: "Grateful to complete 5 years at Netflix",
    description:
      "Kicking off a new role with lots of excitement and gratitude.",
    img: "https://randomuser.me/api/portraits/women/61.jpg",
    images: "./assets/img40.jpeg",
    company_rating: 4.2,
  },
  {
    id: 42,
    company: "Intel",
    title: "Looking for new opportunities in Intel",
    description: "Appreciating the mentorship and support from my colleagues.",
    img: "https://randomuser.me/api/portraits/men/13.jpg",
    images: "./assets/img41.jpeg",
    company_rating: 3.2,
  },
  {
    id: 43,
    company: "Spotify",
    title: "Looking for new opportunities in Spotify",
    description:
      "Looking forward to the next chapter in my professional journey.",
    img: "https://randomuser.me/api/portraits/women/86.jpg",
    images: "./assets/img42.jpeg",
    company_rating: 4.8,
  },
  {
    id: 44,
    company: "Netflix",
    title: "Excited to join the team at Netflix",
    description: "Appreciating the mentorship and support from my colleagues.",
    img: "https://randomuser.me/api/portraits/men/51.jpg",
    images: "./assets/img43.jpeg",
    company_rating: 4.1,
  },
  {
    id: 45,
    company: "Meta",
    title: "Just got promoted to Meta",
    description:
      "Excited to be working on cutting-edge technology and innovations!",
    img: "https://randomuser.me/api/portraits/men/13.jpg",
    images: "./assets/img44.jpeg",
    company_rating: 4.4,
  },
  {
    id: 46,
    company: "Airbnb",
    title: "Looking for new opportunities in Airbnb",
    description: "Appreciating the mentorship and support from my colleagues.",
    img: "https://randomuser.me/api/portraits/women/17.jpg",
    images: "./assets/img45.jpeg",
    company_rating: 4.0,
  },
  {
    id: 47,
    company: "Apple",
    title: "Sharing insights from my latest project at Apple",
    description:
      "Kicking off a new role with lots of excitement and gratitude.",
    img: "https://randomuser.me/api/portraits/women/67.jpg",
    images: "./assets/img46.jpeg",
    company_rating: 3.2,
  },
  {
    id: 48,
    company: "Airbnb",
    title: "Looking for new opportunities in Airbnb",
    description:
      "Proud to be part of a team that values creativity and collaboration.",
    img: "https://randomuser.me/api/portraits/men/78.jpg",
    images: "./assets/img47.jpeg",
    company_rating: 4.8,
  },
  {
    id: 49,
    company: "Adobe",
    title: "Launching a new product at Adobe",
    description:
      "Kicking off a new role with lots of excitement and gratitude.",
    img: "https://randomuser.me/api/portraits/men/46.jpg",
    images: "./assets/img48.jpeg",
    company_rating: 3.7,
  },
  {
    id: 50,
    company: "Microsoft",
    title: "Started a new position as Microsoft",
    description:
      "Exploring new opportunities and challenges in the tech space.",
    img: "https://randomuser.me/api/portraits/women/67.jpg",
    images: "./assets/img49.jpeg",
    company_rating: 3.1,
  },
];

let container = document.getElementById("box");

function renderData(data) {
  data.forEach((i) => {
    const isSaved = localStorage.getItem("savedPosts")
      ? JSON.parse(localStorage.getItem("savedPosts")).some(
          (item) => item.id === i.id
        )
      : false;

    container.innerHTML += `
      <div class="linkedin-card" id="card-${i.id}">
        <div class="card-header">
          <img src="${i.img}" alt="Profile" class="profile-img">
          <div class="user-info">
            <h3>${i.company}</h3>
            <p>${i.title}</p>
          </div>
        </div>

        <div class="card-body">
          <p>${i.description}</p>
          <p id="like-text-${
            i.id
          }" style="display:none; color:green; font-weight:500;">1 Like</p>
        </div>
        <div style="margin-left: 10px; margin-top:10px;"><p>Company Rating: ${
          i.company_rating
        }</p></div>
        <div class="center-img">
          <img src="${
            i.images
          }" alt="main-img" style="width:450px; margin-top: 10px; margin-left: 20px;" class="main-img">
        </div>

        <div class="card-actions">
          <div onclick="handleLike(${i.id}, this)">
            <i class="fa-regular fa-thumbs-up"></i> Like
          </div>
          <div><i class="fa-regular fa-comment"></i> Comment</div>
          <div onclick='handleSave(${JSON.stringify(i)})'>
            <i class="fa-regular fa-bookmark" style="color: ${
              isSaved ? "black" : ""
            }></i> Save
          </div>
          <div><i class="fa-regular fa-paper-plane"></i> Send</div>
        </div>
      </div>
    `;
  });
}
function handleLike(id, element) {
  const likeText = document.getElementById(`like-text-${id}`);
  const icon = element.querySelector("i");

  if (icon.style.color === "red") {
    icon.style.color = "";
    likeText.style.display = "none";
  } else {
    icon.style.color = "red";
    likeText.style.display = "block";
  }
}

function handleSave(item) {
  let saved = localStorage.getItem("savedPosts");
  saved = saved ? JSON.parse(saved) : [];

  if (!saved.some((savedItem) => savedItem.id === item.id)) {
    saved.push(item);
    localStorage.setItem("savedPosts", JSON.stringify(saved));
    alert("Saved!");
  } else {
    alert("Already saved!");
  }
}

renderData(AllData);

function search() {
  container.innerHTML = "";
  let x = document.getElementById("text");
  let input = x.value.toLowerCase();
  let newData = AllData.filter((item) => {
    return item.company.toLowerCase().includes(input);
  });
  console.log(newData);

  container.innerHTML = "";
  let y = document.getElementById("text");
  let input2 = y.value;
  let data = AllData.filter((item) => {
    return String(item.company_rating).includes(input2);
  });
  console.log(data);

  renderData(newData);
  renderData(data);
}
